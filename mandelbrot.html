<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Mandelbrot Set Viewer</title>

	<!-- Main Stylesheet File -->
	<link href="css/pageStyle.css" rel="stylesheet" title="MainStyleSheet">

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Titillium+Web:400,600,300,200&subset=latin,latin-ext" rel="stylesheet">

	<!--Math functions rendering-->
	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!--load jquery-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>	
	<script>
		$(function(){
			$("#footer").load("footer.html"); 
		});
	</script>

	<!--script for blurred image loading-->
	<script>
		window.onload = function loadStuff() {
		var win, doc, img, elements, enhancedClass;
		
		// Quit early if older browser (e.g. IE 8).
		if (!('addEventListener' in window)) {
			return;
		}
		
		win = window;
		doc = win.document;
		//array to hold images to load
		imgs = [];
		//array to hold the urls of low res images
		var URLs = [];
		//populate urls
		for(i=0; i<doc.getElementsByClassName("image").length; i++){
			URLs[i] = win.getComputedStyle(document.getElementsByClassName("image")[i]).backgroundImage;
			imgs[i] = new Image;
		}
		//get all image elements to modify later
		elements = doc.getElementsByClassName("image");
		//add this class to the above elements later to start animation
		enhancedClass = 'image_enhanced';
		
		//get the urls of the high res images to load
		var bigSrc = [];
		for(i=0; i<URLs.length; i++){
			bigSrc[i] = URLs[i].replace("_blur.svg",".jpg").replace('url("',"").replace('")',"")
		}
			//loop through all images to load
			for(index=0; index<bigSrc.length; index++){
				//Assign an onLoad handler to the high res image
				//note this image is not the actual image element that will be displayed
				//this is just to load the image into memory so it can instantly be displayed
				//on the page
				imgs[index].onload = function () {
					var imageIndex
					//find the element that this image belongs to
					for(imageIndex=0;imageIndex<imgs.length;imageIndex++){
						if(imgs[imageIndex] === this){
							break;
						}
					}
					//add the enhanced class name to the element to switch the image
					//out (handled in CSS) and play the animation (also in CSS)
					elements[imageIndex].className += ' ' +enhancedClass;
				};
				//begin loading the high res image by assigning the source
				if (bigSrc[index]) {
					imgs[index].src = bigSrc[index];
				}
			}
		};
	</script>

	<!--styling for header image-->
	<style>
		/*additional translation to center image when at top of screen
		only for header*/
		#header .background{
			transform: translateZ(-1px) translateY(-58%) scale(1.52);
		}
		/*This is the image that will be displayed when the webpage fist loads
		it should be small in file size. scale up and blur via svg. 
		The fall back image is always displayed behind the normal image,
		makes the animation look better around the edges*/
		#header .image, #header .fallback_image{
			background-image: url(../img/mandelbrot_2_blur.svg);
		}
		/*this is the full size image to be displayed once everything loads
		this as the sharpen animation attached to it. Once the image element 
		receives this class via JS, the image changes and the animation begins*/
		#header .image_enhanced{
			background-image: url(../img/mandelbrot_2.jpg);
			animation: sharpen 1s both;
		}	
	</style>
</head>
<body>
	<div class="parallax">
		<div id="header" class="parallax_group">
			<div class="parallax_layer base">
				<div style="margin: auto;">
					<div class="font boldTitle">The Mandelbrot Set Viewer</div>
				</div>
			</div>
			<!--fallback image to be displayed if something goes wrong
			with the normal image, also makes the blur animation look
			better around the edges-->
			<div class="parallax_layer background fallback_image">
				<!--fall back image, always displayed behind normal image-->
			</div>
			<!--normal image to be displayed (image class)-->
			<div class="parallax_layer background">
				<div class="parallax_layer image">
					<!--background layer, image only-->
				</div>
			</div>				
		</div>

		<div id="main" class="parallax_group">
			<div class="parallax_layer base" style="position: relative;">
				<div class="font light">
					<table class = "font semibold" style="width:100%">
						<tr>
							<td style="float: left">
								<a href="index.html">Back Home < </a>
							</td>
							<td style="float: right;">
								<a href=https://github.com/C-Glick/Mandelbrot-set>
									> View on <img src="/img/github.png" style="height:30px; vertical-align: middle; margin-bottom: 0.3em">
								</a>
							</td>
						</tr>
					</table>

					<div id="player" style="width: 50%; max-width:50em; height:auto;"></div>
					<script>
					  var tag = document.createElement('script');
					  tag.src = "https://www.youtube.com/iframe_api";
					  var firstScriptTag = document.getElementsByTagName('script')[0];
					  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

					  var player;
					  function onYouTubeIframeAPIReady() {
						player = new YT.Player('player', {
							//change video to play here
							videoId: 'OWF8KUbf1Rw',
							playerVars: {
								modestbranding: 1,
								autoplay: 1,
								controls: 1,
								wmode: 'transparent',
								branding: 0,
								rel: 0,
								autohide: 0,
								origin: window.location.origin
							},
							//events to keep track of
							events: {
								'onReady': onPlayerReady,
								'onStateChange': onPlayerStateChange
							}
						  });
						}
						//autoplay
						function onPlayerReady(event) {
							event.target.playVideo();
						}
						//auto looping
						function onPlayerStateChange(event) {
							if (event.data === YT.PlayerState.ENDED) {
								player.playVideo(); 
							}
						}
					</script>

					<p style="text-align: justify;">
						<img src="/img/mandelbrot_1.jpg" style="float:right; width: 70%; max-width: 50em; height: auto; padding: 1em;">
						The Mandelbrot set is a special fractal that was first discovered by Benoit Mandelbrot in 1980 (although there is some debate on who discovered it first). <br>
						<br>
						The Mandelbrot set is displayed on the complex plane where the x-axis represents all real numbers, 
						similar to a typical number line, and the y-axis represents imaginary numbers. 
						The fractal comes out of a deceptively simple equation,  
						\(z_{n+1} = z_n^2 + c \) where \(z\) and \(c\) are complex numbers. \(z\)’s value 
						starts as 0 and \(c\)’s value is the point on the complex plane to test.<br>
						<br>
						You then iterate the equation many times, noting the absolute value (distance from the origin) of 
						\(z\). The value can either grow to infinity or stay bounded near 0. If the value remains 
						bounded, it is considered to be within the Mandelbrot set and is colored black within the graph. 
						All the other colors are derived from how quickly that point diverges, measured by how many 
						iterations are needed to exceed an arbitrary threshold (2 in this case). In order to say 
						that a specific \(c\) value is bounded, we must iterate to a limit, else the calculation 
						would continue forever! We can increase this limit of iterations, and in doing so, 
						discover points on the graph that were previously thought to be bounded that are actually unbounded.<br>
						<br>
						I was first introduced to this mathematical concept by a popular YouTube channel named <a href="https://www.youtube.com/c/vsauce1" target="_blank">Vsauce</a>. 
						After watching his <a href="https://www.youtube.com/watch?v=MwjsO6aniig" target="_blank">video</a> I decided I wanted to try to write a program in Java that would generate 
						a graph of the Mandelbrot set. I had to learn about 2D graphics rendering in Java in order to 
						properly draw the graph. My first attempts after a month were not very successful. However, after 
						some work debugging and more research, I was able to produce my first black and white image of 
						the Mandelbrot set.<br>
						<img src="/img/mandelbrot_3.png" style="width: 40%; max-width: 50em; height: auto; padding: 1em;">
						<img src="/img/mandelbrot_4.jpg" style="width: 40%; max-width: 50em; height: auto; padding: 1em;">
						
						</p>
				</div>
			</div>
		</div>

		<div id="footer_group" class="parallax_group">
			<div class="parallax_layer base">
				<div id="footer" style="display: flex; justify-content: center; align-items: center;"></div>
			</div>
		</div>
	</div>
</body>

